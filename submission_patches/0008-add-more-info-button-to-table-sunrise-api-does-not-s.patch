From b90312a04b971839b10e794deb884db16bac9bee Mon Sep 17 00:00:00 2001
From: Sean Niesen <seanniesen@gmail.com>
Date: Fri, 27 Feb 2015 19:10:27 -0800
Subject: [PATCH 08/25] add more info button to table, sunrise api does not
 seem to be accurate

---
 .../screen.scssc                                     | Bin 4393 -> 4888 bytes
 app.js                                               |  14 ++++++++++----
 index.html                                           |  19 +++++++++++--------
 sass/screen.scss                                     |   4 ++++
 stylesheets/screen.css                               |   5 +++++
 5 files changed, 30 insertions(+), 12 deletions(-)

diff --git a/.sass-cache/d2559a4825e9f4afea6572fff63f60672936bcac/screen.scssc b/.sass-cache/d2559a4825e9f4afea6572fff63f60672936bcac/screen.scssc
index dd0da46616e3be07fcc28443012077c52d9fbd40..34250b8fafeb746678b9c7957267da95b10de783 100644
GIT binary patch
delta 858
zcmZvb(Q4CB7{@&YQ**MUUAnDJ)7qM`x#HMPx^`{+5RRZ11qCm5x2r5Iv@j^>Kv3`*
zl+VGu@BtJyHg-GRBj_W{H&Cxd%!%>Dwz&$)`ThUDb2wi<I7h3mOKYvbA2i**J7{-0
zUJ!Ix)9<#tRy!DU-7V%d*>;~Xzsuh6+k~DCbCenz&&E#={Js4FzM%EO`VDCG9R1%n
z1=Jn<NZTZbSG0XA4@GW5i5Gy4u7R?vjKR%8V^`@p^!ccNFhpNnxURa4t>6=FIcLDq
z7#6ZHH(G+lk%{+>BEHicV&a8XCv$kF7pYhYIZlr7ld+~H3J-_$A+hj;Lc@YPENqD$
zn`1ClD8$897+0jmLQ{KOE5rN*Qx2KDWXkwTvmc}}*@Oub1$o%c-!@J@PXI==|G1o!
zOZ=@ps@YR+J8W8%F&pn0Hcw*`w@8#{-CzDIIo53&7jyD8^xnj*zP?<Ua#tqY;;kgE
zfTwYZKjLQnSJGcW;g8EX`4;)V>l?M|l)pORuSRE2V-mMWq@4YSbXSGD7Z-E#Q|?pe
wS~MW>&2w@pGh#$k33@vq*nH2)%xBJj8SjZDe}Vc-sz!5sw=QNF@G$@O58vgy=l}o!

delta 513
zcmbQCwo++=gode+p}9$#simozsflHZX_`fnnL(O`fvK6Lv0<W7QgV`Iin(P{lF38|
zbw<vO8T?$6J$cL+MJG4#SWo`Ur8D_CkJsc3ZV_$)Yq5N55q4{yOtHxUywZ~waVs$j
zPd>`6FnJxX1ech#XeLmF1LKUz7kGW-#jOSNt%W$Pg`rx+fzqOI1H>ou3rIU)Q^Sr>
z1Jog9E$$#>E#V++Z4NQbfpG;w!Q^^=X)dV24vZ^-_R3AZ$)}?%fo8V^irpZd#N_py
z;_}$kA?%l!9LF!ly%TPo1lT&LSq_Z5z}6k&*OQk-vrZDlI!Ulsv8h2=1=4}VtEb?0
uOM>l&8tlM$dNMnYh8QP2a4bWtc^$Z|1w56QzHFSx%Q*R#;Ka!tLK6U@2XpTL

diff --git a/app.js b/app.js
index 90597d7..8473636 100644
--- a/app.js
+++ b/app.js
@@ -20,20 +20,26 @@ app.controller('MainCtrl', [
   			{
 
    		//make api call inside of call to google maps api
-   			var i = 0;
+   			  var i = 0;
 	   			while (startDateMilli <= endDateMilli) {
 
 	   				var currentDate = new Date(startDateMilli);
 	   				var splitDate = currentDate.toString().split(" ").slice(1, 4).join(" ");
+	   				var splitDashDate = moment(currentDate).format('YYYY-MM-DD');
 	   				dates.push(splitDate);
-	 					var sunriseurl = "http://api.sunrise-sunset.org/json?lat=" + results[0].geometry.location.lng() + "&lng=" + results[0].geometry.location.lat() + "&date=" + currentDate + "&callback=mycallback";
+	   				console.log(splitDashDate);
+
+	   				var latitude = results[0].geometry.location.lat();
+	   				var longitude = results[0].geometry.location.lng();
+	 					var sunriseurl = "http://api.sunrise-sunset.org/json?lat=" + latitude + "&lng=" + longitude + "&date=" + splitDashDate + "&callback=mycallback";
+	 					console.log(sunriseurl);
 			   		var response = $.ajax({
 											    		url: sunriseurl,
 											    		dataType: "JSONP",
 											    		success: function(data) {
-											    			$("#sunrises").append("<tr class='day day" + i + "'><td class='date date" + i + "'>" + "</td><td>" + data.results.sunrise + "</td><td>" + data.results.sunset + "</td><td>" + data.results.day_length + "</td></tr>");
+											    			$("#sunrises").append("<tr class='day day" + i + "'><td class='date date" + i + "'>" + "</td><td>" + data.results.sunrise + "</td><td>" + data.results.sunset + "</td><td>" + data.results.day_length + "</td><td><button class='btn btn-default'>More Info</button></td></tr>");
 											    			// $scope.sunrise = data.results.sunrise;
-										    			i += 1;
+										    			  i += 1;
 											    			return data;
 											    		}
 														}).done(function() {
diff --git a/index.html b/index.html
index 33f7575..55296f1 100644
--- a/index.html
+++ b/index.html
@@ -6,6 +6,7 @@
     <script src="js/angular.js"></script>
     <script type="text/javascript" src="js/jquery-1.11.1.js"></script>
     <script src="js/sorttable.js"></script>
+    <script src="js/moment.js"></script>
     <script src="app.js"></script>
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"></link>
     <link href="stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
@@ -15,14 +16,6 @@
 
       <div class="separator" style="height: 80px;">
       </div>
-
-      <table class="sortable">
-      <thead>
-        <tr><th>Date</th><th>Sunrise</th><th>Sunset</th><th>Day Length</th></tr>
-      </thead>
-      <tbody id="sunrises">
-      </tbody>
-      </table>
       <div class="date">
       </div>
 
@@ -42,6 +35,16 @@
       </form>
 
       <a href="http://sunrise-sunset.org/">this is the sunset api</a>
+      <div class="row">
+        <div class="col-md-12">
+        <table class="sortable">
+        <thead>
+          <tr><th>Date</th><th>Sunrise</th><th>Sunset</th><th>Day Length</th><th></th></tr>
+        </thead>
+        <tbody id="sunrises">
+        </tbody>
+        </table>
+      </div>
     </div>
   </body>
 </html>
\ No newline at end of file
diff --git a/sass/screen.scss b/sass/screen.scss
index d4e8ab1..5ff49c3 100644
--- a/sass/screen.scss
+++ b/sass/screen.scss
@@ -13,6 +13,10 @@ table.sortable thead {
 
 }
 
+.sortable {
+	width: 100%;
+}
+
 td {
 	padding: 5px;
 	border-color: black;
diff --git a/stylesheets/screen.css b/stylesheets/screen.css
index f29f329..6924c6f 100644
--- a/stylesheets/screen.css
+++ b/stylesheets/screen.css
@@ -76,6 +76,11 @@ table.sortable thead {
 }
 
 /* line 16, ../sass/screen.scss */
+.sortable {
+  width: 100%;
+}
+
+/* line 20, ../sass/screen.scss */
 td {
   padding: 5px;
   border-color: black;
-- 
2.1.3.36.g8e36a6d

