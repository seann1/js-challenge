From 5532b25b2c56a8a85a74ea677983e16df1341121 Mon Sep 17 00:00:00 2001
From: Sean Niesen <seanniesen@gmail.com>
Date: Tue, 3 Mar 2015 16:43:34 -0800
Subject: [PATCH 24/25] address erased on form resubmit and default date range
 replaced

---
 app.js | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

diff --git a/app.js b/app.js
index 69b8858..fa02264 100644
--- a/app.js
+++ b/app.js
@@ -18,6 +18,15 @@ app.controller('MainCtrl', [
   	}
 
 		$scope.getTimes = function() {
+
+			function init() {
+				var oneWeekAgo = new Date();
+				$scope.startDate = oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
+				$scope.endDate = moment(new Date).format();
+			}
+
+			init();
+			$("#sunrises").empty();
 			var address = $scope.address + ", " + $scope.city + ", " + $scope.state;
 			address = address.toString();
 
@@ -75,13 +84,13 @@ app.controller('MainCtrl', [
 		$scope.address = '';
 		$scope.city = '';
 		$scope.state = '';
-		$scope.startDate = '';
-		$scope.endDate = '';
 	}; //end of getTimes();
+
 	function init() {
 		var oneWeekAgo = new Date();
 		$scope.startDate = oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
 		$scope.endDate = moment(new Date).format();
 	}
+
 	init();
 }]);
\ No newline at end of file
-- 
2.1.3.36.g8e36a6d

